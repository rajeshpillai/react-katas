import{r as n,j as e}from"./index-C8jGRvk-.js";import"./react-vendor-CVzL7Oab.js";function j(){const[r,l]=n.useState(0),[h,o]=n.useState(0),[s,u]=n.useState(!1),[i,c]=n.useState(null),[t,d]=n.useState(!1),[p,m]=n.useState(typeof window<"u"?window.innerWidth:0);n.useEffect(()=>{document.title=`Count: ${r}`}),n.useEffect(()=>{console.log("Component mounted!")},[]),n.useEffect(()=>{console.log(`Count changed to: ${r}`)},[r]),n.useEffect(()=>{if(s){const a=setInterval(()=>{o(g=>g+1)},1e3);return()=>{clearInterval(a)}}},[s]),n.useEffect(()=>{const a=()=>{m(window.innerWidth)};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]);const f=()=>{d(!0),c(null),setTimeout(()=>{c({name:"John Doe",email:"john@example.com"}),d(!1)},1500)};return e.jsxs("div",{children:[e.jsx("h1",{children:"useEffect Fundamentals"}),e.jsxs("p",{children:["The ",e.jsx("code",{children:"useEffect"})," hook lets you perform ",e.jsx("strong",{children:"side effects"})," in function components. Side effects include data fetching, subscriptions, timers, and manually changing the DOM."]}),e.jsxs("section",{style:{marginBottom:"var(--space-8)"},children:[e.jsx("h2",{children:"What are Side Effects?"}),e.jsx("p",{children:"Side effects are operations that affect something outside the component's scope:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Fetching data from an API"}),e.jsx("li",{children:"Setting up subscriptions or timers"}),e.jsx("li",{children:"Manually updating the DOM"}),e.jsx("li",{children:"Logging to console"}),e.jsx("li",{children:"Setting up event listeners"})]}),e.jsx("div",{style:{background:"var(--color-info)",color:"white",padding:"var(--space-4)",borderRadius:"var(--radius-lg)",marginTop:"var(--space-4)"},children:e.jsxs("p",{style:{color:"white"},children:["üí° ",e.jsx("strong",{children:"Key Concept:"})," Effects run ",e.jsx("em",{children:"after"})," React updates the DOM. This ensures your UI is always in sync before side effects execute."]})})]}),e.jsxs("section",{style:{marginBottom:"var(--space-8)"},children:[e.jsx("h2",{children:"Basic Syntax"}),e.jsx("pre",{children:e.jsx("code",{children:`useEffect(() => {
  // Your side effect code here
  console.log('Effect ran!');
  
  // Optional: return cleanup function
  return () => {
    console.log('Cleanup!');
  };
}, [dependencies]); // Dependency array`})}),e.jsxs("p",{style:{marginTop:"var(--space-4)"},children:["The dependency array controls ",e.jsx("strong",{children:"when"})," the effect runs:"]}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"No array:"})," Runs after every render"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Empty array []:"})," Runs only once (on mount)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"[dep1, dep2]:"})," Runs when dependencies change"]})]})]}),e.jsxs("section",{style:{marginBottom:"var(--space-8)"},children:[e.jsx("h2",{children:"Example 1: Updating Document Title"}),e.jsx("p",{children:"This effect runs after every render and updates the browser tab title with the current count."}),e.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"var(--space-6)",borderRadius:"var(--radius-lg)",marginTop:"var(--space-4)"},children:[e.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",marginBottom:"var(--space-4)",color:"var(--color-primary-600)"},children:["Count: ",e.jsx("strong",{children:r})]}),e.jsx("p",{style:{marginBottom:"var(--space-4)",color:"var(--text-secondary)"},children:"üëÜ Check your browser tab - the title updates with the count!"}),e.jsx("button",{onClick:()=>l(r+1),style:{padding:"var(--space-3) var(--space-6)",background:"var(--color-primary-500)",color:"white",border:"none",borderRadius:"var(--radius-md)",cursor:"pointer"},children:"Increment"}),e.jsx("pre",{style:{marginTop:"var(--space-4)"},children:e.jsx("code",{children:"// Runs after EVERY render (no dependency array)\nuseEffect(() => {\n  document.title = `Count: ${count}`;\n});"})})]})]}),e.jsxs("section",{style:{marginBottom:"var(--space-8)"},children:[e.jsx("h2",{children:"Example 2: Run Once on Mount"}),e.jsxs("p",{children:["Use an empty dependency array ",e.jsx("code",{children:"[]"})," to run an effect only once when the component mounts."]}),e.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"var(--space-6)",borderRadius:"var(--radius-lg)",marginTop:"var(--space-4)"},children:[e.jsx("p",{style:{marginBottom:"var(--space-4)"},children:'Open your browser console to see the "Component mounted!" message (appears only once).'}),e.jsx("pre",{children:e.jsx("code",{children:`// Runs only ONCE when component mounts
useEffect(() => {
  console.log('Component mounted!');
  // Perfect for initial data fetching
}, []); // Empty dependency array`})})]})]}),e.jsxs("section",{style:{marginBottom:"var(--space-8)"},children:[e.jsx("h2",{children:"Example 3: Timer with Cleanup"}),e.jsxs("p",{children:["Effects can return a ",e.jsx("strong",{children:"cleanup function"})," that runs before the next effect and when the component unmounts."]}),e.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"var(--space-6)",borderRadius:"var(--radius-lg)",marginTop:"var(--space-4)"},children:[e.jsxs("div",{style:{fontSize:"var(--font-size-3xl)",marginBottom:"var(--space-4)",color:"var(--color-accent-600)",textAlign:"center"},children:[h,"s"]}),e.jsx("button",{onClick:()=>u(!s),style:{padding:"var(--space-3) var(--space-6)",background:s?"var(--color-error)":"var(--color-success)",color:"white",border:"none",borderRadius:"var(--radius-md)",cursor:"pointer",marginRight:"var(--space-2)"},children:s?"Stop":"Start"}),e.jsx("button",{onClick:()=>o(0),style:{padding:"var(--space-3) var(--space-6)",background:"var(--color-gray-500)",color:"white",border:"none",borderRadius:"var(--radius-md)",cursor:"pointer"},children:"Reset"}),e.jsx("pre",{style:{marginTop:"var(--space-4)"},children:e.jsx("code",{children:`useEffect(() => {
  if (isRunning) {
    const interval = setInterval(() => {
      setSeconds(s => s + 1);
    }, 1000);
    
    // Cleanup: clear interval when effect re-runs or unmounts
    return () => {
      clearInterval(interval);
    };
  }
}, [isRunning]); // Re-run when isRunning changes`})})]})]}),e.jsxs("section",{style:{marginBottom:"var(--space-8)"},children:[e.jsx("h2",{children:"Example 4: Window Resize Listener"}),e.jsx("p",{children:"Always clean up event listeners to prevent memory leaks!"}),e.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"var(--space-6)",borderRadius:"var(--radius-lg)",marginTop:"var(--space-4)"},children:[e.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--color-primary-100)",borderRadius:"var(--radius-md)",textAlign:"center",marginBottom:"var(--space-4)"},children:[e.jsxs("p",{style:{color:"var(--color-primary-700)",fontWeight:"bold"},children:["Window Width: ",p,"px"]}),e.jsx("p",{style:{color:"var(--color-primary-600)",fontSize:"var(--font-size-sm)"},children:"Try resizing your browser window!"})]}),e.jsx("pre",{children:e.jsx("code",{children:`useEffect(() => {
  const handleResize = () => {
    setWindowWidth(window.innerWidth);
  };
  
  // Add event listener
  window.addEventListener('resize', handleResize);
  
  // Cleanup: remove event listener
  return () => {
    window.removeEventListener('resize', handleResize);
  };
}, []); // Empty array - set up once on mount`})})]})]}),e.jsxs("section",{style:{marginBottom:"var(--space-8)"},children:[e.jsx("h2",{children:"Example 5: Data Fetching Pattern"}),e.jsx("p",{children:"A common pattern: fetch data on mount or when dependencies change. We'll explore this more in the next lesson!"}),e.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"var(--space-6)",borderRadius:"var(--radius-lg)",marginTop:"var(--space-4)"},children:[e.jsx("button",{onClick:f,disabled:t,style:{padding:"var(--space-3) var(--space-6)",background:t?"var(--color-gray-400)":"var(--color-accent-500)",color:"white",border:"none",borderRadius:"var(--radius-md)",cursor:t?"not-allowed":"pointer",marginBottom:"var(--space-4)"},children:t?"Loading...":"Fetch User"}),i&&e.jsxs("div",{style:{background:"var(--color-success)",color:"white",padding:"var(--space-4)",borderRadius:"var(--radius-md)"},children:[e.jsx("p",{style:{color:"white",fontWeight:"bold"},children:"User Data:"}),e.jsxs("p",{style:{color:"white"},children:["Name: ",i.name]}),e.jsxs("p",{style:{color:"white"},children:["Email: ",i.email]})]}),e.jsx("pre",{style:{marginTop:"var(--space-4)"},children:e.jsx("code",{children:`useEffect(() => {
  // Fetch data when component mounts
  async function fetchData() {
    const response = await fetch('/api/user');
    const data = await response.json();
    setUser(data);
  }
  
  fetchData();
}, []); // Empty array - fetch once on mount`})})]})]}),e.jsxs("section",{style:{marginBottom:"var(--space-8)"},children:[e.jsx("h2",{children:"Common Mistakes"}),e.jsxs("div",{style:{background:"var(--color-warning)",color:"white",padding:"var(--space-4)",borderRadius:"var(--radius-lg)",marginTop:"var(--space-4)"},children:[e.jsx("h3",{style:{color:"white",marginBottom:"var(--space-3)"},children:"‚ö†Ô∏è Watch Out For:"}),e.jsxs("ul",{style:{paddingLeft:"var(--space-6)"},children:[e.jsxs("li",{style:{color:"white",marginBottom:"var(--space-2)"},children:[e.jsx("strong",{children:"Missing dependencies:"})," Always include all values used in the effect"]}),e.jsxs("li",{style:{color:"white",marginBottom:"var(--space-2)"},children:[e.jsx("strong",{children:"Infinite loops:"})," Updating state that's in the dependency array"]}),e.jsxs("li",{style:{color:"white",marginBottom:"var(--space-2)"},children:[e.jsx("strong",{children:"Forgetting cleanup:"})," Always clean up timers, subscriptions, listeners"]}),e.jsxs("li",{style:{color:"white"},children:[e.jsx("strong",{children:"Async effects:"})," Can't make the effect function itself async"]})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("code",{children:"useEffect"})," runs side effects after React updates the DOM"]}),e.jsx("li",{children:"Effects run after every render by default"}),e.jsxs("li",{children:["Use dependency array to control when effects run: ",e.jsx("code",{children:"[]"})," for once,"," ",e.jsx("code",{children:"[dep]"})," for when dep changes"]}),e.jsx("li",{children:"Return a cleanup function to clean up subscriptions, timers, and listeners"}),e.jsx("li",{children:"Common uses: data fetching, subscriptions, timers, event listeners"}),e.jsx("li",{children:"Always include all dependencies used in the effect"}),e.jsx("li",{children:"Next lesson: useEffect cleanup patterns and advanced techniques!"})]})]})]})}export{j as default};
//# sourceMappingURL=UseEffectFundamentals-DPMmWgCg.js.map
