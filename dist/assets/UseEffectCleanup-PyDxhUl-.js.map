{"version":3,"file":"UseEffectCleanup-PyDxhUl-.js","sources":["../../src/lessons/02-hooks/UseEffectCleanup.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\n\nexport default function UseEffectCleanup() {\n  const [showTimer, setShowTimer] = useState(false)\n  const [showChat, setShowChat] = useState(false)\n  const [showMouseTracker, setShowMouseTracker] = useState(false)\n  const [searchTerm, setSearchTerm] = useState('')\n\n\n  return (\n    <div>\n      <h1>useEffect Cleanup</h1>\n      <p>\n        Cleanup functions prevent <strong>memory leaks</strong> and unwanted behavior. They run\n        before the effect re-executes and when the component unmounts.\n      </p>\n\n      {/* Section 1: Why Cleanup Matters */}\n      <section style={{ marginBottom: 'var(--space-8)' }}>\n        <h2>Why Cleanup Matters</h2>\n        <p>Without proper cleanup, you can have:</p>\n        <ul>\n          <li>\n            <strong>Memory leaks:</strong> Timers and listeners that keep running\n          </li>\n          <li>\n            <strong>Stale closures:</strong> Effects using old state values\n          </li>\n          <li>\n            <strong>Race conditions:</strong> Multiple async operations conflicting\n          </li>\n          <li>\n            <strong>Performance issues:</strong> Unnecessary computations\n          </li>\n        </ul>\n\n        <div\n          style={{\n            background: 'var(--color-error)',\n            color: 'white',\n            padding: 'var(--space-4)',\n            borderRadius: 'var(--radius-lg)',\n            marginTop: 'var(--space-4)',\n          }}\n        >\n          <p style={{ color: 'white', fontWeight: 'bold' }}>‚ö†Ô∏è Critical Rule:</p>\n          <p style={{ color: 'white' }}>\n            If your effect sets up something (timer, subscription, listener), it MUST clean it up!\n          </p>\n        </div>\n      </section>\n\n      {/* Section 2: Timer Cleanup */}\n      <section style={{ marginBottom: 'var(--space-8)' }}>\n        <h2>Pattern 1: Cleaning Up Timers</h2>\n        <p>\n          Always clear intervals and timeouts to prevent them from running after the component\n          unmounts.\n        </p>\n\n        <div\n          style={{\n            background: 'var(--bg-secondary)',\n            padding: 'var(--space-6)',\n            borderRadius: 'var(--radius-lg)',\n            marginTop: 'var(--space-4)',\n          }}\n        >\n          <button\n            onClick={() => setShowTimer(!showTimer)}\n            style={{\n              padding: 'var(--space-3) var(--space-6)',\n              background: showTimer ? 'var(--color-error)' : 'var(--color-success)',\n              color: 'white',\n              border: 'none',\n              borderRadius: 'var(--radius-md)',\n              cursor: 'pointer',\n              marginBottom: 'var(--space-4)',\n            }}\n          >\n            {showTimer ? 'Unmount Timer' : 'Mount Timer'}\n          </button>\n\n          {showTimer && <TimerComponent />}\n\n          <pre style={{ marginTop: 'var(--space-4)' }}>\n            <code>{`function TimerComponent() {\n  const [seconds, setSeconds] = useState(0);\n  \n  useEffect(() => {\n    // Set up the interval\n    const interval = setInterval(() => {\n      setSeconds(s => s + 1);\n    }, 1000);\n    \n    // Cleanup: clear the interval\n    return () => {\n      clearInterval(interval);\n      console.log('Timer cleaned up!');\n    };\n  }, []);\n  \n  return <div>Seconds: {seconds}</div>;\n}`}</code>\n          </pre>\n        </div>\n      </section>\n\n      {/* Section 3: Event Listener Cleanup */}\n      <section style={{ marginBottom: 'var(--space-8)' }}>\n        <h2>Pattern 2: Cleaning Up Event Listeners</h2>\n        <p>Remove event listeners to prevent memory leaks, especially with window/document events.</p>\n\n        <div\n          style={{\n            background: 'var(--bg-secondary)',\n            padding: 'var(--space-6)',\n            borderRadius: 'var(--radius-lg)',\n            marginTop: 'var(--space-4)',\n          }}\n        >\n          <button\n            onClick={() => setShowMouseTracker(!showMouseTracker)}\n            style={{\n              padding: 'var(--space-3) var(--space-6)',\n              background: showMouseTracker ? 'var(--color-error)' : 'var(--color-success)',\n              color: 'white',\n              border: 'none',\n              borderRadius: 'var(--radius-md)',\n              cursor: 'pointer',\n              marginBottom: 'var(--space-4)',\n            }}\n          >\n            {showMouseTracker ? 'Stop Tracking' : 'Start Tracking'}\n          </button>\n\n          {showMouseTracker && <MouseTracker />}\n\n          <pre style={{ marginTop: 'var(--space-4)' }}>\n            <code>{`function MouseTracker() {\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  \n  useEffect(() => {\n    // Define the handler\n    const handleMouseMove = (e: MouseEvent) => {\n      setPosition({ x: e.clientX, y: e.clientY });\n    };\n    \n    // Add listener\n    window.addEventListener('mousemove', handleMouseMove);\n    \n    // Cleanup: remove listener\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      console.log('Mouse listener removed!');\n    };\n  }, []);\n  \n  return <div>Mouse: {position.x}, {position.y}</div>;\n}`}</code>\n          </pre>\n        </div>\n      </section>\n\n      {/* Section 4: Subscription Cleanup */}\n      <section style={{ marginBottom: 'var(--space-8)' }}>\n        <h2>Pattern 3: Cleaning Up Subscriptions</h2>\n        <p>\n          WebSocket connections, Firebase listeners, and other subscriptions must be cleaned up.\n        </p>\n\n        <div\n          style={{\n            background: 'var(--bg-secondary)',\n            padding: 'var(--space-6)',\n            borderRadius: 'var(--radius-lg)',\n            marginTop: 'var(--space-4)',\n          }}\n        >\n          <button\n            onClick={() => setShowChat(!showChat)}\n            style={{\n              padding: 'var(--space-3) var(--space-6)',\n              background: showChat ? 'var(--color-error)' : 'var(--color-success)',\n              color: 'white',\n              border: 'none',\n              borderRadius: 'var(--radius-md)',\n              cursor: 'pointer',\n              marginBottom: 'var(--space-4)',\n            }}\n          >\n            {showChat ? 'Disconnect' : 'Connect'} Chat\n          </button>\n\n          {showChat && <ChatComponent />}\n\n          <pre style={{ marginTop: 'var(--space-4)' }}>\n            <code>{`function ChatComponent() {\n  const [messages, setMessages] = useState([]);\n  \n  useEffect(() => {\n    // Simulate WebSocket connection\n    const ws = new WebSocket('wss://chat.example.com');\n    \n    ws.onmessage = (event) => {\n      setMessages(prev => [...prev, event.data]);\n    };\n    \n    // Cleanup: close connection\n    return () => {\n      ws.close();\n      console.log('WebSocket closed!');\n    };\n  }, []);\n  \n  return <div>Messages: {messages.length}</div>;\n}`}</code>\n          </pre>\n        </div>\n      </section>\n\n      {/* Section 5: Async Cleanup (Abort Controller) */}\n      <section style={{ marginBottom: 'var(--space-8)' }}>\n        <h2>Pattern 4: Canceling Async Operations</h2>\n        <p>\n          Use <code>AbortController</code> to cancel fetch requests and prevent state updates on\n          unmounted components.\n        </p>\n\n        <div\n          style={{\n            background: 'var(--bg-secondary)',\n            padding: 'var(--space-6)',\n            borderRadius: 'var(--radius-lg)',\n            marginTop: 'var(--space-4)',\n          }}\n        >\n          <input\n            type=\"text\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            placeholder=\"Search...\"\n            style={{\n              width: '100%',\n              padding: 'var(--space-3)',\n              border: '1px solid var(--border-color)',\n              borderRadius: 'var(--radius-md)',\n              fontSize: 'var(--font-size-base)',\n              marginBottom: 'var(--space-4)',\n            }}\n          />\n\n          <SearchResults searchTerm={searchTerm} />\n\n          <pre style={{ marginTop: 'var(--space-4)' }}>\n            <code>{`function SearchResults({ searchTerm }) {\n  const [results, setResults] = useState([]);\n  \n  useEffect(() => {\n    // Create abort controller\n    const controller = new AbortController();\n    \n    async function search() {\n      try {\n        const response = await fetch(\n          \\`/api/search?q=\\${searchTerm}\\`,\n          { signal: controller.signal } // Pass signal\n        );\n        const data = await response.json();\n        setResults(data);\n      } catch (error) {\n        if (error.name === 'AbortError') {\n          console.log('Fetch aborted');\n        }\n      }\n    }\n    \n    if (searchTerm) search();\n    \n    // Cleanup: abort the fetch\n    return () => {\n      controller.abort();\n    };\n  }, [searchTerm]);\n  \n  return <div>Results: {results.length}</div>;\n}`}</code>\n          </pre>\n        </div>\n      </section>\n\n      {/* Section 6: Debouncing with Cleanup */}\n      <section style={{ marginBottom: 'var(--space-8)' }}>\n        <h2>Pattern 5: Debouncing with Cleanup</h2>\n        <p>Use cleanup to implement debouncing - delay execution until user stops typing.</p>\n\n        <div\n          style={{\n            background: 'var(--bg-secondary)',\n            padding: 'var(--space-6)',\n            borderRadius: 'var(--radius-lg)',\n            marginTop: 'var(--space-4)',\n          }}\n        >\n          <DebouncedSearch />\n\n          <pre style={{ marginTop: 'var(--space-4)' }}>\n            <code>{`function DebouncedSearch() {\n  const [input, setInput] = useState('');\n  const [debouncedValue, setDebouncedValue] = useState('');\n  \n  useEffect(() => {\n    // Set up timeout\n    const timer = setTimeout(() => {\n      setDebouncedValue(input);\n    }, 500); // Wait 500ms after user stops typing\n    \n    // Cleanup: clear timeout if input changes again\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [input]); // Re-run when input changes\n  \n  return (\n    <input\n      value={input}\n      onChange={(e) => setInput(e.target.value)}\n    />\n  );\n}`}</code>\n          </pre>\n        </div>\n      </section>\n\n      {/* Section 7: Common Pitfalls */}\n      <section style={{ marginBottom: 'var(--space-8)' }}>\n        <h2>Common Cleanup Pitfalls</h2>\n\n        <div\n          style={{\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: 'var(--space-4)',\n            marginTop: 'var(--space-4)',\n          }}\n        >\n          <div\n            style={{\n              padding: 'var(--space-4)',\n              background: 'var(--color-error)',\n              color: 'white',\n              borderRadius: 'var(--radius-lg)',\n            }}\n          >\n            <h4 style={{ color: 'white', marginBottom: 'var(--space-3)' }}>‚ùå Wrong</h4>\n            <pre>\n              <code style={{ color: 'white' }}>{`useEffect(() => {\n  setInterval(() => {\n    console.log('tick');\n  }, 1000);\n  // No cleanup!\n}, []);`}</code>\n            </pre>\n            <p style={{ color: 'white', fontSize: 'var(--font-size-sm)' }}>\n              Interval keeps running forever!\n            </p>\n          </div>\n\n          <div\n            style={{\n              padding: 'var(--space-4)',\n              background: 'var(--color-success)',\n              color: 'white',\n              borderRadius: 'var(--radius-lg)',\n            }}\n          >\n            <h4 style={{ color: 'white', marginBottom: 'var(--space-3)' }}>‚úÖ Correct</h4>\n            <pre>\n              <code style={{ color: 'white' }}>{`useEffect(() => {\n  const id = setInterval(() => {\n    console.log('tick');\n  }, 1000);\n  \n  return () => clearInterval(id);\n}, []);`}</code>\n            </pre>\n            <p style={{ color: 'white', fontSize: 'var(--font-size-sm)' }}>\n              Cleanup clears the interval!\n            </p>\n          </div>\n        </div>\n      </section>\n\n      {/* Key Takeaways */}\n      <section>\n        <h2>Key Takeaways</h2>\n        <ul>\n          <li>Cleanup functions run before the next effect and on unmount</li>\n          <li>\n            Always clean up: timers (<code>clearInterval</code>, <code>clearTimeout</code>)\n          </li>\n          <li>\n            Always clean up: event listeners (<code>removeEventListener</code>)\n          </li>\n          <li>\n            Always clean up: subscriptions (WebSocket <code>close()</code>, unsubscribe functions)\n          </li>\n          <li>\n            Use <code>AbortController</code> to cancel fetch requests\n          </li>\n          <li>Cleanup enables debouncing and other timing patterns</li>\n          <li>Forgetting cleanup leads to memory leaks and bugs!</li>\n        </ul>\n      </section>\n    </div>\n  )\n}\n\n// Helper components\n\nfunction TimerComponent() {\n  const [seconds, setSeconds] = useState(0)\n\n  useEffect(() => {\n    console.log('Timer mounted')\n    const interval = setInterval(() => {\n      setSeconds((s) => s + 1)\n    }, 1000)\n\n    return () => {\n      clearInterval(interval)\n      console.log('Timer cleaned up!')\n    }\n  }, [])\n\n  return (\n    <div\n      style={{\n        padding: 'var(--space-4)',\n        background: 'var(--color-primary-100)',\n        borderRadius: 'var(--radius-md)',\n        marginBottom: 'var(--space-4)',\n      }}\n    >\n      <p style={{ color: 'var(--color-primary-700)', fontWeight: 'bold' }}>\n        ‚è±Ô∏è Timer: {seconds} seconds\n      </p>\n      <p style={{ color: 'var(--color-primary-600)', fontSize: 'var(--font-size-sm)' }}>\n        Check console - cleanup runs when you unmount!\n      </p>\n    </div>\n  )\n}\n\nfunction MouseTracker() {\n  const [position, setPosition] = useState({ x: 0, y: 0 })\n\n  useEffect(() => {\n    console.log('Mouse tracker mounted')\n    const handleMouseMove = (e: MouseEvent) => {\n      setPosition({ x: e.clientX, y: e.clientY })\n    }\n\n    window.addEventListener('mousemove', handleMouseMove)\n\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove)\n      console.log('Mouse listener removed!')\n    }\n  }, [])\n\n  return (\n    <div\n      style={{\n        padding: 'var(--space-4)',\n        background: 'var(--color-accent-100)',\n        borderRadius: 'var(--radius-md)',\n        marginBottom: 'var(--space-4)',\n      }}\n    >\n      <p style={{ color: 'var(--color-accent-700)', fontWeight: 'bold' }}>\n        üñ±Ô∏è Mouse Position: X: {position.x}, Y: {position.y}\n      </p>\n      <p style={{ color: 'var(--color-accent-600)', fontSize: 'var(--font-size-sm)' }}>\n        Move your mouse! Listener is cleaned up on unmount.\n      </p>\n    </div>\n  )\n}\n\nfunction ChatComponent() {\n  const [messageCount, setMessageCount] = useState(0)\n  const [isConnected, setIsConnected] = useState(false)\n\n  useEffect(() => {\n    console.log('Chat connecting...')\n    setIsConnected(true)\n\n    // Simulate receiving messages\n    const interval = setInterval(() => {\n      setMessageCount((c) => c + 1)\n    }, 2000)\n\n    return () => {\n      clearInterval(interval)\n      setIsConnected(false)\n      console.log('Chat disconnected!')\n    }\n  }, [])\n\n  return (\n    <div\n      style={{\n        padding: 'var(--space-4)',\n        background: 'var(--color-success)',\n        color: 'white',\n        borderRadius: 'var(--radius-md)',\n        marginBottom: 'var(--space-4)',\n      }}\n    >\n      <p style={{ color: 'white', fontWeight: 'bold' }}>\n        üí¨ Chat {isConnected ? 'Connected' : 'Disconnected'}\n      </p>\n      <p style={{ color: 'white' }}>Messages received: {messageCount}</p>\n      <p style={{ color: 'white', fontSize: 'var(--font-size-sm)' }}>\n        Simulated WebSocket - cleanup closes connection\n      </p>\n    </div>\n  )\n}\n\nfunction SearchResults({ searchTerm }: { searchTerm: string }) {\n  const [results, setResults] = useState<string[]>([])\n  const [isLoading, setIsLoading] = useState(false)\n\n  useEffect(() => {\n    if (!searchTerm) {\n      setResults([])\n      return\n    }\n\n    const controller = new AbortController()\n    setIsLoading(true)\n\n    // Simulate API call\n    const timer = setTimeout(() => {\n      setResults([\n        `Result 1 for \"${searchTerm}\"`,\n        `Result 2 for \"${searchTerm}\"`,\n        `Result 3 for \"${searchTerm}\"`,\n      ])\n      setIsLoading(false)\n    }, 1000)\n\n    return () => {\n      controller.abort()\n      clearTimeout(timer)\n      console.log('Search aborted for:', searchTerm)\n    }\n  }, [searchTerm])\n\n  if (!searchTerm) return null\n\n  return (\n    <div\n      style={{\n        padding: 'var(--space-4)',\n        background: 'var(--bg-tertiary)',\n        borderRadius: 'var(--radius-md)',\n        marginBottom: 'var(--space-4)',\n      }}\n    >\n      {isLoading ? (\n        <p>Searching...</p>\n      ) : (\n        <>\n          <p style={{ fontWeight: 'bold', marginBottom: 'var(--space-2)' }}>\n            Results for \"{searchTerm}\":\n          </p>\n          <ul style={{ paddingLeft: 'var(--space-6)' }}>\n            {results.map((result, i) => (\n              <li key={i}>{result}</li>\n            ))}\n          </ul>\n        </>\n      )}\n    </div>\n  )\n}\n\nfunction DebouncedSearch() {\n  const [input, setInput] = useState('')\n  const [debouncedValue, setDebouncedValue] = useState('')\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedValue(input)\n      console.log('Debounced value updated:', input)\n    }, 500)\n\n    return () => {\n      clearTimeout(timer)\n    }\n  }, [input])\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n        placeholder=\"Type to see debouncing...\"\n        style={{\n          width: '100%',\n          padding: 'var(--space-3)',\n          border: '1px solid var(--border-color)',\n          borderRadius: 'var(--radius-md)',\n          fontSize: 'var(--font-size-base)',\n          marginBottom: 'var(--space-4)',\n        }}\n      />\n      <div\n        style={{\n          padding: 'var(--space-4)',\n          background: 'var(--bg-tertiary)',\n          borderRadius: 'var(--radius-md)',\n        }}\n      >\n        <p>\n          <strong>Immediate value:</strong> {input || '(empty)'}\n        </p>\n        <p>\n          <strong>Debounced value (500ms delay):</strong> {debouncedValue || '(empty)'}\n        </p>\n        <p style={{ color: 'var(--text-tertiary)', fontSize: 'var(--font-size-sm)' }}>\n          The debounced value updates 500ms after you stop typing\n        </p>\n      </div>\n    </div>\n  )\n}\n"],"names":["UseEffectCleanup","showTimer","setShowTimer","useState","showChat","setShowChat","showMouseTracker","setShowMouseTracker","searchTerm","setSearchTerm","jsx","jsxs","TimerComponent","MouseTracker","ChatComponent","e","SearchResults","DebouncedSearch","seconds","setSeconds","useEffect","interval","s","position","setPosition","handleMouseMove","messageCount","setMessageCount","isConnected","setIsConnected","results","setResults","isLoading","setIsLoading","controller","timer","Fragment","result","input","setInput","debouncedValue","setDebouncedValue"],"mappings":"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"}